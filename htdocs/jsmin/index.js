/*!*/
/*!	[grunt] lackey 2015-01-30 */
/*!*/


!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){"use strict";module.exports=function(app){var Directive=function(){var directive={};return directive.require="^lkEdit",directive.restrict="E",directive.scope={},directive.template=function(element,attr){var html="",action=attr.action;return html+='<button disabled class="'+action+'">',html+=action,html+="</button>"},directive.link=function($scope,element,attr,lkEdit){var button=element.find("button");lkEdit.$scope.$on("changed",function(){button.attr("disabled",!1),window.onbeforeunload||(window.onbeforeunload=function(){return"There are pending changes that will be lost."})})},directive};return app.directive("lkApi",["lkApi",Directive]),app}},{}],2:[function(require,module){"use strict";module.exports=function(app){var Directive=function(){var directive={};return directive.restrict="A",directive.scope={},directive.controller=function($scope){var self=this;self.$scope=$scope,self.getData=function(name){return setTimeout(function(){$scope.$apply(function(){$scope.examples={"54ca16eba7585113821ea019":{slug:+new Date+name}}})},1e3),$scope}},directive};return app.directive("lkEdit",["lkApi",Directive]),app}},{}],3:[function(require,module){"use strict";module.exports={text:require("./text")}},{"./text":4}],4:[function(require,module){"use strict";module.exports.template=function(element,attr){var html="",name=attr.varName,placeholder=attr.placeholder;return html+='<span class="value" data-ng-bind-html="'+name+'"></span>',html+='<span class="placeholder">'+placeholder+"</span>",html+='<input class="input" data-ng-name="'+name+'" data-ng-model="'+name+'" />'}},{}],5:[function(require,module){"use strict";var escapeName=require("../helpers/escape-name");module.exports=function(app){return app.directive("lkVar",function(){var directive={},directiveTypes=require("./lk-var-types"),defaultType="text";return directive.require="^lkEdit",directive.restrict="E",directive.scope={model:"="},directive.template=function(element,attr){var type,html="",varName="";if(attr.type||(attr.type=defaultType),attr.placeholder||(attr.placeholder="Click to add value"),varName="data",attr.name&&(varName+="."+attr.name,varName=escapeName(varName)),attr.varName=varName,type=attr.type,!directiveTypes[type])throw new Error("unable to find object for this type "+type);return html=directiveTypes[type].template(element,attr)},directive.link=function($scope,element,attr,lkEdit){var data,type;if(type=attr.type,attr.name)data=lkEdit.getData(attr.name),$scope.data=data;else{if(!$scope.model)throw new Error("at leas a name or model property must be defined");$scope.data=$scope.model}document.addEventListener("click",function(){element.removeClass("edit")}),element.click(function(){setTimeout(function(){element.addClass("edit"),element.find("input").focus()})}),$scope.$watch(attr.varName,function(current,previous){void 0!==current&&current!==previous&&(current?element.removeClass("no-data"):element.addClass("no-data"),void 0!==previous&&lkEdit.$scope.$emit("changed"))}),directiveTypes[type]&&directiveTypes[type].link&&directiveTypes[type].link($scope,element,attr,lkEdit)},directive}),app}},{"../helpers/escape-name":7,"./lk-var-types":3}],6:[function(require,module){"use strict";module.exports=function(app){return app.factory("lkApi",function(){return{test:"ok"}}),app}},{}],7:[function(require,module){"use strict";module.exports=function(name){var escaped=name;return-1===escaped.indexOf(".")?escaped:(escaped=escaped.replace(".","['"),escaped=escaped.replace(/\./g,"']['"),"]"!==escaped[escaped.length-1]&&(escaped+="']"),escaped)}},{}],8:[function(require,module){"use strict";module.exports=function(app){return app=require("./factories/api")(app),app=require("./directives/edit")(app),app=require("./directives/api")(app),app=require("./directives/var")(app)}},{"./directives/api":1,"./directives/edit":2,"./directives/var":5,"./factories/api":6}]},{},[8]);
//# sourceMappingURL=index.js.map